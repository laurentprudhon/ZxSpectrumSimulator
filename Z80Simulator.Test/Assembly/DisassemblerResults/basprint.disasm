; **************************************************************************
; * Decompiled assembly program for : Assembly/Samples/basprint.obj
; **************************************************************************

ORG 0000H

	LD IX,FF00H
	LD SP,FEF4H
	LD A,00H
	LD (IX-4),A
	LD (IX-3),A
	LD (IX-2),A
	LD (IX-1),A
	LD A,00H
	LD (IX-8),A
	LD (IX-7),A
	LD (IX-6),A
	LD (IX-5),A
	LD A,00H
	LD (IX-12),A
	LD (IX-11),A
	LD (IX-10),A
	LD (IX-9),A
	LD BC,411EH
	LD DE,0652H
	LD (IX-4),E
	LD (IX-3),D
	LD (IX-2),C
	LD (IX-1),B
	LD BC,4016H
	LD DE,1F97H
	LD (IX-8),E
	LD (IX-7),D
	LD (IX-6),C
	LD (IX-5),B
	LD E,(IX-4)
	LD D,(IX-3)
	LD C,(IX-2)
	LD B,(IX-1)
	PUSH BC
	PUSH DE
	LD E,(IX-8)
	LD D,(IX-7)
	LD C,(IX-6)
	LD B,(IX-5)
	CALL L02DB
	LD (IX-12),E
	LD (IX-11),D
	LD (IX-10),C
	LD (IX-9),B
	LD A,4EH
	OUT (01H),A
	LD A,75H
	OUT (01H),A
	LD A,6DH
	OUT (01H),A
	LD A,62H
	OUT (01H),A
	LD A,65H
	OUT (01H),A
	LD A,72H
	OUT (01H),A
	LD A,20H
	OUT (01H),A
	LD BC,0001H
	LD (IX+1),C
	LD (IX+2),B
	LD C,07H
	LD (IX+3),C
	LD E,(IX-4)
	LD D,(IX-3)
	LD C,(IX-2)
	LD B,(IX-1)
	CALL L0461
	LD A,0DH
	OUT (01H),A
	LD A,0AH
	OUT (01H),A
	LD A,6DH
	OUT (01H),A
	LD A,75H
	OUT (01H),A
	LD A,6CH
	OUT (01H),A
	LD A,74H
	OUT (01H),A
	LD A,69H
	OUT (01H),A
	LD A,70H
	OUT (01H),A
	LD A,6CH
	OUT (01H),A
	LD A,69H
	OUT (01H),A
	LD A,65H
	OUT (01H),A
	LD A,64H
	OUT (01H),A
	LD A,20H
	OUT (01H),A
	LD A,62H
	OUT (01H),A
	LD A,79H
	OUT (01H),A
	LD A,20H
	OUT (01H),A
	LD BC,0001H
	LD (IX+1),C
	LD (IX+2),B
	LD C,07H
	LD (IX+3),C
	LD E,(IX-8)
	LD D,(IX-7)
	LD C,(IX-6)
	LD B,(IX-5)
	CALL L0461
	LD A,0DH
	OUT (01H),A
	LD A,0AH
	OUT (01H),A
	LD A,65H
	OUT (01H),A
	LD A,71H
	OUT (01H),A
	LD A,75H
	OUT (01H),A
	LD A,61H
	OUT (01H),A
	LD A,6CH
	OUT (01H),A
	LD A,73H
	OUT (01H),A
	LD A,20H
	OUT (01H),A
	LD BC,0001H
	LD (IX+1),C
	LD (IX+2),B
	LD C,07H
	LD (IX+3),C
	LD E,(IX-12)
	LD D,(IX-11)
	LD C,(IX-10)
	LD B,(IX-9)
	CALL L0461
	LD A,21H
	OUT (01H),A
	LD A,0DH
	OUT (01H),A
	LD A,0AH
	OUT (01H),A
	HALT
L0162:	XOR A
	SUB E
	LD E,A
	LD A,00H
	SBC A,D
	LD D,A
	LD A,00H
	SBC A,C
	LD C,A
	LD A,00H
	SBC A,B
	LD B,A
	RET
DEFB D9H
DEFB E1H
DEFB D1H
DEFB C1H
DEFB E5H
DEFB D9H
DEFB E5H
DEFB CDH
DEFB 8BH
DEFB 01H
DEFB D9H
DEFB E1H
DEFB C9H
L017F:	EXX
	POP HL
	POP DE
	POP BC
	PUSH HL
	EXX
	PUSH HL
	CALL L018B
	POP HL
	RET
L018B:	EXX
	LD A,B
	EXX
	XOR B
	EXX
	LD A,B
	PUSH AF
	BIT 7,B
	CALL NZ,L0162
	EXX
	BIT 7,B
	CALL NZ,L0162
	CALL L01B1
	POP AF
	JP P,L01A9
	LD L,A
	CALL M,L0162
	LD A,L
L01A9:	OR A
	RET P
	EXX
	CALL L0162
	EXX
	RET
L01B1:	EXX
	PUSH BC
	LD B,D
	LD C,E
	EXX
	EX DE,HL
	LD D,B
	LD E,C
	POP BC
	PUSH HL
	LD HL,0000H
	EXX
	POP DE
	LD HL,0000H
	LD A,20H
	OR A
L01C6:	RL C
	RL B
	EXX
	RL C
	RL B
	EXX
	ADC HL,HL
	EXX
	ADC HL,HL
	EXX
	SBC HL,DE
	EXX
	SBC HL,DE
	EXX
	JR NC,L01E3
	ADD HL,DE
	EXX
	ADC HL,DE
	EXX
L01E3:	CCF
	DEC A
	JR NZ,L01C6
	RL C
	RL B
	EXX
	RL C
	RL B
	EXX
	LD D,B
	LD E,C
	PUSH HL
	EXX
	POP DE
	PUSH BC
	LD B,H
	LD C,L
	EXX
	POP BC
	RET
L01FC:	LD A,B
	XOR 80H
	LD B,A
	EXX
	POP HL
	POP DE
	POP BC
	PUSH HL
	EXX
	PUSH HL
	CALL L020F
	CALL L02A0
	POP HL
	RET
L020F:	EXX
	LD L,00H
	LD H,E
	LD E,D
	LD D,C
	SET 7,D
	RL C
	LD A,B
	ADC A,A
	LD C,A
	EXX
	LD L,00H
	LD H,E
	LD E,D
	LD D,C
	SET 7,D
	RL C
	LD A,B
	ADC A,A
	LD C,A
	LD A,C
	EXX
	SUB C
	JR Z,L023F
	JR NC,L0233
	NEG
	EXX
L0233:	SRL D
	RR E
	RR H
	RR L
	INC C
	DEC A
	JR NZ,L0233
L023F:	LD A,B
	EXX
	XOR B
	EXX
	JP M,L026E
	LD A,L
	EXX
	ADD A,L
	EXX
	LD L,A
	LD A,H
	EXX
	ADC A,H
	EXX
	LD H,A
	LD A,E
	EXX
	ADC A,E
	EXX
	LD E,A
	LD A,D
	EXX
	ADC A,D
	EXX
	LD D,A
	JR NC,L029F
L025C:	LD A,D
	RR D
	RR E
	RR H
	RR L
	OR C
	OR E
	OR H
	OR L
	JR Z,L029F
	INC C
	JR L029F
L026E:	LD A,D
	EXX
	CP D
	JR C,L0289
	JR NZ,L0288
	LD A,E
	EXX
	CP E
	JR C,L0289
	JR NZ,L0288
	LD A,H
	EXX
	CP H
	JR C,L0289
	JR NZ,L0288
	LD A,L
	EXX
	CP L
	JR C,L0289
L0288:	EXX
L0289:	LD A,L
	EXX
	SUB L
	EXX
	LD L,A
	LD A,H
	EXX
	SBC A,H
	EXX
	LD H,A
	LD A,E
	EXX
	SBC A,E
	EXX
	LD E,A
	LD A,D
	EXX
	SBC A,D
	EXX
	LD D,A
	JR C,L025C
L029F:	RET
L02A0:	LD A,C
	OR A
	JR NZ,L02A8
L02A4:	LD B,A
	LD E,A
	LD D,A
	RET
L02A8:	BIT 7,D
	JR NZ,L02BC
	LD A,C
	OR A
	JR Z,L02A4
	DEC C
	SLA L
	RL H
	RL E
	RL D
	JP L02A8
L02BC:	LD A,L
	ADD A,80H
	LD A,H
	ADC A,00H
	LD L,A
	LD A,E
	ADC A,00H
	LD H,A
	LD A,D
	ADC A,00H
	JR NC,L02CD
	INC C
L02CD:	ADD A,A
	SRL C
	RRA
	LD E,A
	LD A,B
	AND 80H
	OR C
	LD D,A
	LD B,D
	LD C,E
	EX DE,HL
	RET
L02DB:	EXX
	POP HL
	POP DE
	POP BC
	PUSH HL
	EXX
	PUSH HL
	EXX
	LD L,00H
	LD H,E
	LD E,D
	LD D,C
	SET 7,D
	RL C
	LD A,B
	ADC A,A
	LD C,A
	JR Z,L0303
	EXX
	LD L,00H
	LD H,E
	LD E,D
	LD D,C
	SET 7,D
	RL C
	LD A,B
	ADC A,A
	LD C,A
	JR Z,L0303
	CALL L0308
L0303:	CALL L037B
	POP HL
	RET
L0308:	LD A,B
	EXX
	XOR B
	LD B,A
	LD A,C
	EXX
	SUB 7FH
	LD B,A
	LD A,C
	SUB 7FH
	ADD A,B
	JP PO,L032A
	EXX
	LD HL,0002H
	LD (FF00H),HL
	LD C,FFH
	JR NC,L0324
	INC C
L0324:	LD D,C
	LD E,C
	LD H,C
	LD L,00H
	RET
L032A:	ADD A,80H
	EXX
	LD C,A
	PUSH BC
	PUSH DE
	LD B,H
	LD C,L
	EXX
	POP BC
	PUSH HL
	EXX
	POP DE
	LD A,20H
L0339:	DEC C
	INC C
	JR NZ,L0357
	CP 09H
	JR C,L0357
	SUB 08H
	PUSH AF
	EXX
	LD A,C
	LD C,B
	LD B,00H
	EXX
	LD C,B
	LD B,A
	EXX
	LD A,L
	LD L,H
	LD H,00H
	EXX
	LD L,H
	LD H,A
	POP AF
	JR L0339
L0357:	EXX
	SRL B
	RR C
	EXX
	RR B
	RR C
	JR NC,L0368
	ADD HL,DE
	EXX
	ADC HL,DE
	EXX
L0368:	EXX
	RR H
	RR L
	EXX
	RR H
	RR L
	DEC A
	JR NZ,L0339
	EXX
	PUSH HL
	EXX
	POP DE
	POP BC
	RET
L037B:	LD A,C
	OR A
	JR NZ,L0383
L037F:	LD B,A
	LD E,A
	LD D,A
	RET
L0383:	BIT 7,D
	JR NZ,L0397
	LD A,C
	OR A
	JR Z,L037F
	DEC C
	SLA L
	RL H
	RL E
	RL D
	JP L0383
L0397:	LD A,L
	ADD A,80H
	LD A,H
	ADC A,00H
	LD L,A
	LD A,E
	ADC A,00H
	LD H,A
	LD A,D
	ADC A,00H
	JR NC,L03A8
	INC C
L03A8:	ADD A,A
	SRL C
	RRA
	LD E,A
	LD A,B
	AND 80H
	OR C
	LD D,A
	LD B,D
	LD C,E
	EX DE,HL
	RET
L03B6:	PUSH HL
	LD L,00H
	LD H,E
	LD E,D
	LD D,C
	SET 7,D
	RL C
	LD A,B
	ADC A,A
	LD C,A
	LD A,C
	SUB 7FH
	JR NC,L03CF
L03C8:	LD BC,0000H
	LD D,C
	LD E,C
	JR L03EE
L03CF:	NEG
	ADD A,1FH
	JR Z,L03E4
	CP 20H
	JR NC,L03C8
L03D9:	SRL D
	RR E
	RR H
	RR L
	DEC A
	JR NZ,L03D9
L03E4:	BIT 7,B
	LD B,D
	LD C,E
	EX DE,HL
	JR Z,L03EE
	CALL L03F0
L03EE:	POP HL
	RET
L03F0:	XOR A
	SUB E
	LD E,A
	LD A,00H
	SBC A,D
	LD D,A
	LD A,00H
	SBC A,C
	LD C,A
	LD A,00H
	SBC A,B
	LD B,A
	RET
L0400:	PUSH HL
	LD A,B
	BIT 7,B
	JR Z,L040B
	CALL L0451
	LD A,80H
L040B:	EX DE,HL
	LD E,C
	LD D,B
	LD B,A
	LD C,9EH
	CALL L0416
	POP HL
	RET
L0416:	LD A,C
	OR A
	JR NZ,L041E
L041A:	LD B,A
	LD E,A
	LD D,A
	RET
L041E:	BIT 7,D
	JR NZ,L0432
	LD A,C
	OR A
	JR Z,L041A
	DEC C
	SLA L
	RL H
	RL E
	RL D
	JP L041E
L0432:	LD A,L
	ADD A,80H
	LD A,H
	ADC A,00H
	LD L,A
	LD A,E
	ADC A,00H
	LD H,A
	LD A,D
	ADC A,00H
	JR NC,L0443
	INC C
L0443:	ADD A,A
	SRL C
	RRA
	LD E,A
	LD A,B
	AND 80H
	OR C
	LD D,A
	LD B,D
	LD C,E
	EX DE,HL
	RET
L0451:	XOR A
	SUB E
	LD E,A
	LD A,00H
	SBC A,D
	LD D,A
	LD A,00H
	SBC A,C
	LD C,A
	LD A,00H
	SBC A,B
	LD B,A
	RET
L0461:	BIT 7,B
	JR Z,L0470
	LD A,2DH
	PUSH BC
	LD C,(IX+1)
	OUT (C),A
	POP BC
	RES 7,B
L0470:	PUSH BC
	RLC C
	RL B
	LD A,6AH
	SUB B
	JP P,L0483
	LD A,95H
	SUB B
	JP M,L0483
	JR L048E
L0483:	LD A,45H
	LD C,(IX+1)
	OUT (C),A
	POP BC
	JP L058B
L048E:	POP BC
	PUSH BC
	PUSH DE
	CALL L03B6
	PUSH BC
	PUSH DE
	LD BC,000FH
	LD DE,4240H
	CALL L017F
	CALL L058C
	PUSH BC
	PUSH DE
	LD BC,0001H
	LD DE,86A0H
	CALL L017F
	CALL L058C
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,2710H
	CALL L017F
	CALL L058C
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,03E8H
	CALL L017F
	CALL L058C
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,0064H
	CALL L017F
	CALL L058C
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,000AH
	CALL L017F
	CALL L058C
	LD B,(IX+2)
	LD A,E
	LD B,30H
	ADD A,B
	LD C,(IX+1)
	OUT (C),A
	LD C,(IX+3)
	DEC C
	JP Z,L058B
	LD (IX+2),B
	LD (IX+3),C
	LD A,2EH
	LD C,(IX+1)
	OUT (C),A
	POP DE
	POP BC
	RES 7,B
	PUSH BC
	PUSH DE
	CALL L03B6
	CALL L0400
	CALL L01FC
	PUSH BC
	PUSH DE
	LD BC,4974H
	LD DE,2400H
	CALL L02DB
	CALL L03B6
	PUSH BC
	PUSH DE
	LD BC,0001H
	LD DE,86A0H
	CALL L017F
	CALL L05AA
	JR Z,L058B
	EXX
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,2710H
	CALL L017F
	CALL L05AA
	JR Z,L058B
	EXX
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,03E8H
	CALL L017F
	CALL L05AA
	JR Z,L058B
	EXX
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,0064H
	CALL L017F
	CALL L05AA
	JR Z,L058B
	EXX
	PUSH BC
	PUSH DE
	LD BC,0000H
	LD DE,000AH
	CALL L017F
	CALL L05AA
	JR Z,L058B
	EXX
	LD B,(IX+2)
	LD A,E
	ADD A,B
	LD C,(IX+1)
	OUT (C),A
	LD C,(IX+3)
	DEC C
	LD (IX+3),C
L058B:	RET
L058C:	LD B,(IX+2)
	LD A,E
	CP 00H
	JR Z,L0596
	LD B,30H
L0596:	ADD A,B
	LD (IX+2),B
	JR Z,L05A8
	LD C,(IX+1)
	OUT (C),A
	LD C,(IX+3)
	DEC C
	LD (IX+3),C
L05A8:	EXX
	RET
L05AA:	LD B,(IX+2)
	LD A,E
	ADD A,B
	LD C,(IX+1)
	OUT (C),A
	LD C,(IX+3)
	DEC C
	LD (IX+3),C
	RET
