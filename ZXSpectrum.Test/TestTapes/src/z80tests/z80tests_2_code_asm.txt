; **************************************************************************
; * Decompiled assembly program for : z80tests
; **************************************************************************

ORG 8000H

START EQU 0000H
CLS EQU 0D6BH
CHAN_OPEN EQU 1601H
LAST_K EQU 5C08H
VAR_MEMPTR_CHECKSUM EQU FFFFH

MAIN:	JP MENU_SCREEN
EXEC_LDIR:	LD A,(VAR_MEMPTR_CHECKSUM)
	LDIR
	POP HL
	JP (HL)
EXEC_LDDR:	LD A,(VAR_MEMPTR_CHECKSUM)
	LDDR
	POP HL
	JP (HL)
EXEC_CPIR:	PUSH AF
	LD A,(VAR_MEMPTR_CHECKSUM)
	CPIR
	POP AF
	POP HL
	JP (HL)
EXEC_CPDR:	PUSH AF
	LD A,(VAR_MEMPTR_CHECKSUM)
	POP AF
	CPDR
	POP HL
	JP (HL)
EXEC_DJNZ_FF:	PUSH BC
	LD A,(VAR_MEMPTR_CHECKSUM)
	LD B,FFH
	DJNZ EXEC_DJNZ_FF_LOOP
EXEC_DJNZ_FF_LOOP:	POP BC
	POP HL
	JP (HL)
EXEC_DJNZ_01:	PUSH BC
	LD A,(VAR_MEMPTR_CHECKSUM)
	LD B,01H
	DJNZ EXEC_DJNZ_01_LOOP
EXEC_DJNZ_01_LOOP:	POP BC
	POP HL
	JP (HL)
MENU_SCREEN:	CALL INIT_SCREEN
	LD DE,STRING_MENU_SCREEN ; Menu screen string start address
	CALL DISPLAY_STRING
MENU_SCREEN_INPUT:	CALL WAIT_KEYPRESS
	CP 31H ; If Key 1 was pressed
	JR Z,FLAGS_TESTS
	CP 32H ; If Key 2 was pressed
	JR Z,MEMPTR_TESTS
	CP 33H ; If Key 3 was pressed
	JR NZ,MENU_SCREEN_INPUT
	EXX
	LD HL,2758H
	EXX
	RET
; => exit to BASIC
FLAGS_TESTS:	LD HL,TABLE_FLAGS_TESTS ; Flags tests parameter table start address
	LD DE,STRING_FLAGS_TESTS_SCREEN ; Flags test screen string start address
	JR TEST_SCREEN
MEMPTR_TESTS:	LD HL,TABLE_MEMPTR_TESTS ; MEMPTR tests parameter table start address
	LD DE,STRING_MEMPTR_TESTS_SCREEN ; MEMPTR test screen string start address
	JR TEST_SCREEN
END_OF_TESTS:	LD DE,STRING_END_OF_TESTS ; End of tests string start address
	CALL DISPLAY_STRING
	CALL WAIT_KEYPRESS
	JR MENU_SCREEN
TEST_SCREEN:	LD (VAR_SAVE_HL),HL
	PUSH DE
	CALL INIT_SCREEN
	POP DE
	CALL DISPLAY_STRING
TEST_SCREEN_LAUNCH_TEST:	LD (VAR_SAVE_SP),SP
	LD A,07H
	OUT (FEH),A ; Set white border around the screen
; Here HL points to an entry in the tests parameters table
	LD HL,(VAR_SAVE_HL)
; Test params structure 0 - 1 : Pointer to an executable machine code function : the test launcher. 00H|00H marks the end of the parameters table.
; Test params structure 2 -> FFH : starting with the third byte, the parameter table entry contains a string describing the test
	LD E,(HL)
	INC HL
	LD D,(HL)
	INC HL
	EX DE,HL ; Here : HL points to the address of the test laucher routine, DE points to the string describing the test
	LD A,H
	OR L
	JR Z,END_OF_TESTS ; If HL = 00 : end of the tests table, else :
	CALL DISPLAY_STRING ; Display tested opcode name
	LD A,17H ; TAB
	RST 10H
	LD A,13H ; BRIGHT ...
	RST 10H
	XOR A ; ... 0
	RST 10H
	LD A,3AH ; :
	RST 10H
	LD A,20H ; space
	RST 10H
	LD (VAR_SAVE_HL),DE ; After the end of the string, save the address of the next entry in tests table for next iteration
	LD BC,TEST_SCREEN_TEST_PASSED
	PUSH BC
	LD BC,TEST_SCREEN_TEST_FAILED
	PUSH BC
	JP (HL)
; => jump to test launcher, start address found at the beginning the current parameter table entry
TEST_SCREEN_NEXT_TEST:	LD SP,(VAR_SAVE_SP)
	LD A,0DH
	RST 10H
	JR TEST_SCREEN_LAUNCH_TEST
TEST_SCREEN_TEST_PASSED:	LD DE,STRING_PASSED_TEST
	CALL SETIY_DISPLAY_STRING
	JR TEST_SCREEN_NEXT_TEST
TEST_SCREEN_TEST_FAILED:	LD DE,STRING_FAILED_TEST
	CALL SETIY_DISPLAY_STRING
	LD H,B
	LD L,C
	CALL DISPLAY_TWO_HEXBYTES
	LD A,10H
	RST 10H
	XOR A
	RST 10H
	JR TEST_SCREEN_NEXT_TEST
SETIY_DISPLAY_STRING:	LD IY,5C3AH
	CALL DISPLAY_STRING
	RET
INIT_SCREEN:	CALL CLS ; Clear the display
	LD A,02H
	JP CHAN_OPEN ; Open a channel : user stream 02
; => return to MENU_SCREEN
WAIT_KEYPRESS:	XOR A
	LD (LAST_K),A ; LAST_K : Stores newly pressed key.
WAIT_KEYPRESS_LOOP:	LD A,(LAST_K) ; LAST_K : Stores newly pressed key.
	OR A
	JR Z,WAIT_KEYPRESS_LOOP
	RET
; Display all chars starting from address DE upwards, until char FF
DISPLAY_STRING:	LD A,(DE)
	INC DE
	CP FFH
	RET Z
	RST 10H
	JR DISPLAY_STRING
DISPLAY_TWO_HEXBYTES:	LD A,H
	CALL DISPLAY_TWO_HEXCHARS
	LD A,L
	CALL DISPLAY_TWO_HEXCHARS
	RET
DISPLAY_TWO_HEXCHARS:	PUSH AF
	RRA
	RRA
	RRA
	RRA
	CALL DISPLAY_ONE_HEXCHAR
	POP AF
	CALL DISPLAY_ONE_HEXCHAR
	RET
DISPLAY_ONE_HEXCHAR:	AND 0FH
	CP 0AH
	SBC A,69H
	DAA
	RST 10H
	RET
; --- Menu screen string ---
STRING_MENU_SCREEN:DEFB 16H ; AT
DEFB 02H ; 2
DEFB 09H ; 9
DEFB 5AH ; Z
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 20H ;  
DEFB 54H ; T
DEFB 65H ; e
DEFB 73H ; s
DEFB 74H ; t
DEFB 20H ;  
DEFB 53H ; S
DEFB 75H ; u
DEFB 69H ; i
DEFB 74H ; t
DEFB 65H ; e
DEFB 16H ; AT
DEFB 07H ; 7
DEFB 05H ; 5
DEFB 31H ; 1
DEFB 3AH ; :
DEFB 20H ;  
DEFB 52H ; R
DEFB 75H ; u
DEFB 6EH ; n
DEFB 20H ;  
DEFB 5AH ; Z
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 20H ;  
DEFB 46H ; F
DEFB 6CH ; l
DEFB 61H ; a
DEFB 67H ; g
DEFB 73H ; s
DEFB 20H ;  
DEFB 74H ; t
DEFB 65H ; e
DEFB 73H ; s
DEFB 74H ; t
DEFB 16H ; AT
DEFB 09H ; 9
DEFB 05H ; 5
DEFB 32H ; 2
DEFB 3AH ; :
DEFB 20H ;  
DEFB 52H ; R
DEFB 75H ; u
DEFB 6EH ; n
DEFB 20H ;  
DEFB 5AH ; Z
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 20H ;  
DEFB 4DH ; M
DEFB 45H ; E
DEFB 4DH ; M
DEFB 50H ; P
DEFB 54H ; T
DEFB 52H ; R
DEFB 20H ;  
DEFB 74H ; t
DEFB 65H ; e
DEFB 73H ; s
DEFB 74H ; t
DEFB 16H ; AT
DEFB 0BH ; 11
DEFB 05H ; 5
DEFB 33H ; 3
DEFB 3AH ; :
DEFB 20H ;  
DEFB 45H ; E
DEFB 78H ; x
DEFB 69H ; i
DEFB 74H ; t
DEFB 20H ;  
DEFB 74H ; t
DEFB 6FH ; o
DEFB 20H ;  
DEFB 42H ; B
DEFB 41H ; A
DEFB 53H ; S
DEFB 49H ; I
DEFB 43H ; C
DEFB 16H ; AT
DEFB 0FH ; 15
DEFB 00H ; 0
DEFB 41H ; A
DEFB 6CH ; l
DEFB 6CH ; l
DEFB 20H ;  
DEFB 72H ; r
DEFB 65H ; e
DEFB 73H ; s
DEFB 75H ; u
DEFB 6CH ; l
DEFB 74H ; t
DEFB 73H ; s
DEFB 20H ;  
DEFB 61H ; a
DEFB 72H ; r
DEFB 65H ; e
DEFB 20H ;  
DEFB 63H ; c
DEFB 6FH ; o
DEFB 6DH ; m
DEFB 70H ; p
DEFB 61H ; a
DEFB 72H ; r
DEFB 65H ; e
DEFB 64H ; d
DEFB 20H ;  
DEFB 61H ; a
DEFB 67H ; g
DEFB 61H ; a
DEFB 69H ; i
DEFB 6EH ; n
DEFB 73H ; s
DEFB 74H ; t
DEFB 0DH ; enter
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 61H ; a
DEFB 20H ;  
DEFB 72H ; r
DEFB 65H ; e
DEFB 61H ; a
DEFB 6CH ; l
DEFB 20H ;  
DEFB 4EH ; N
DEFB 45H ; E
DEFB 43H ; C
DEFB 20H ;  
DEFB 44H ; D
DEFB 37H ; 7
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 43H ; C
DEFB 2DH ; -
DEFB 31H ; 1
DEFB 20H ;  
DEFB 5AH ; Z
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 20H ;  
DEFB 43H ; C
DEFB 50H ; P
DEFB 55H ; U
DEFB FFH
; --- End of tests string ---
STRING_END_OF_TESTS:DEFB 0DH ; enter
DEFB 41H ; A
DEFB 6CH ; l
DEFB 6CH ; l
DEFB 20H ;  
DEFB 74H ; t
DEFB 65H ; e
DEFB 73H ; s
DEFB 74H ; t
DEFB 73H ; s
DEFB 20H ;  
DEFB 66H ; f
DEFB 69H ; i
DEFB 6EH ; n
DEFB 69H ; i
DEFB 73H ; s
DEFB 68H ; h
DEFB 65H ; e
DEFB 64H ; d
DEFB 20H ;  
DEFB 2DH ; -
DEFB 20H ;  
DEFB 70H ; p
DEFB 72H ; r
DEFB 65H ; e
DEFB 73H ; s
DEFB 73H ; s
DEFB 20H ;  
DEFB 61H ; a
DEFB 20H ;  
DEFB 6BH ; k
DEFB 65H ; e
DEFB 79H ; y
DEFB FFH
; --- Flags test screen string ---
STRING_FLAGS_TESTS_SCREEN:DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 54H ; T
DEFB 65H ; e
DEFB 73H ; s
DEFB 74H ; t
DEFB 69H ; i
DEFB 6EH ; n
DEFB 67H ; g
DEFB 20H ;  
DEFB 5AH ; Z
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 20H ;  
DEFB 66H ; f
DEFB 6CH ; l
DEFB 61H ; a
DEFB 67H ; g
DEFB 73H ; s
DEFB 2EH ; .
DEFB 2EH ; .
DEFB 2EH ; .
DEFB 0DH ; enter
DEFB 0DH ; enter
DEFB FFH
; --- MEMPTR test screen string ---
STRING_MEMPTR_TESTS_SCREEN:DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 54H ; T
DEFB 65H ; e
DEFB 73H ; s
DEFB 74H ; t
DEFB 69H ; i
DEFB 6EH ; n
DEFB 67H ; g
DEFB 20H ;  
DEFB 5AH ; Z
DEFB 38H ; 8
DEFB 30H ; 0
DEFB 20H ;  
DEFB 4DH ; M
DEFB 45H ; E
DEFB 4DH ; M
DEFB 50H ; P
DEFB 54H ; T
DEFB 52H ; R
DEFB 2EH ; .
DEFB 2EH ; .
DEFB 2EH ; .
DEFB 0DH ; enter
DEFB 0DH ; enter
DEFB FFH
; --- Passed test string ---
STRING_PASSED_TEST:DEFB 70H ; p
DEFB 61H ; a
DEFB 73H ; s
DEFB 73H ; s
DEFB 65H ; e
DEFB 64H ; d
DEFB FFH
; --- Failed test string ---
STRING_FAILED_TEST:DEFB 10H ; INK
DEFB 02H ; 
DEFB 66H ; f
DEFB 61H ; a
DEFB 69H ; i
DEFB 6CH ; l
DEFB 65H ; e
DEFB 64H ; d
DEFB 0DH ; enter
DEFB 06H ; comma
DEFB 20H ;  
DEFB 2DH ; -
DEFB 20H ;  
DEFB 65H ; e
DEFB 78H ; x
DEFB 70H ; p
DEFB 65H ; e
DEFB 63H ; c
DEFB 74H ; t
DEFB 65H ; e
DEFB 64H ; d
DEFB 20H ;  
DEFB FFH
VAR_SAVE_HL:DEFB 00H ; Space reserved to save HL in routine TEST_SCREEN
DEFB 00H ; Space reserved to save HL in routine TEST_SCREEN
VAR_SAVE_SP:DEFB 00H ; Space reserved to save SP in routine TEST_SCREEN
DEFB 00H ; Space reserved to save SP in routine TEST_SCREEN
VAR_SAVE_A:DEFB 00H ; Used to restore accumulator in MEMPTR_TEST_COMMON_EXEC
; --- Flags tests parameter table ---
; Params for FLAGS  test 01 : SCF
TABLE_FLAGS_TESTS	DEFW FLAGS_TEST_01_LAUNCH
DEFB 53H ; S
DEFB 43H ; C
DEFB 46H ; F
DEFB FFH
; Params for FLAGS  test 02 : CCF
DEFW FLAGS_TEST_02_LAUNCH
DEFB 43H ; C
DEFB 43H ; C
DEFB 46H ; F
DEFB FFH
; Params for FLAGS  test 03 : DAA
DEFW FLAGS_TEST_03_LAUNCH
DEFB 44H ; D
DEFB 41H ; A
DEFB 41H ; A
DEFB FFH
; Params for FLAGS  test 04 : CPL
DEFW FLAGS_TEST_04_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 4CH ; L
DEFB FFH
; Params for FLAGS  test 05 : NEG
DEFW FLAGS_TEST_05_LAUNCH
DEFB 4EH ; N
DEFB 45H ; E
DEFB 47H ; G
DEFB FFH
; Params for FLAGS  test 06 : AND
DEFW FLAGS_TEST_06_LAUNCH
DEFB 41H ; A
DEFB 4EH ; N
DEFB 44H ; D
DEFB FFH
; Params for FLAGS  test 07 : OR
DEFW FLAGS_TEST_07_LAUNCH
DEFB 4FH ; O
DEFB 52H ; R
DEFB FFH
; Params for FLAGS  test 08 : XOR
DEFW FLAGS_TEST_08_LAUNCH
DEFB 58H ; X
DEFB 4FH ; O
DEFB 52H ; R
DEFB FFH
; Params for FLAGS  test 09 : CP
DEFW FLAGS_TEST_09_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB FFH
; Params for FLAGS  test 10 : INC8
DEFW FLAGS_TEST_10_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 43H ; C
DEFB 38H ; 8
DEFB FFH
; Params for FLAGS  test 11 : ADD8
DEFW FLAGS_TEST_11_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 44H ; D
DEFB 38H ; 8
DEFB FFH
; Params for FLAGS  test 12 : ADC8
DEFW FLAGS_TEST_12_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 43H ; C
DEFB 38H ; 8
DEFB FFH
; Params for FLAGS  test 13 : DEC8
DEFW FLAGS_TEST_13_LAUNCH
DEFB 44H ; D
DEFB 45H ; E
DEFB 43H ; C
DEFB 38H ; 8
DEFB FFH
; Params for FLAGS  test 14 : SUB8
DEFW FLAGS_TEST_14_LAUNCH
DEFB 53H ; S
DEFB 55H ; U
DEFB 42H ; B
DEFB 38H ; 8
DEFB FFH
; Params for FLAGS  test 15 : SBC8
DEFW FLAGS_TEST_15_LAUNCH
DEFB 53H ; S
DEFB 42H ; B
DEFB 43H ; C
DEFB 38H ; 8
DEFB FFH
; Params for FLAGS  test 16 : ADD16
DEFW FLAGS_TEST_16_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 44H ; D
DEFB 31H ; 1
DEFB 36H ; 6
DEFB FFH
; Params for FLAGS  test 17 : ADC16
DEFW FLAGS_TEST_17_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 43H ; C
DEFB 31H ; 1
DEFB 36H ; 6
DEFB FFH
; Params for FLAGS  test 18 : SBC16
DEFW FLAGS_TEST_18_LAUNCH
DEFB 53H ; S
DEFB 42H ; B
DEFB 43H ; C
DEFB 31H ; 1
DEFB 36H ; 6
DEFB FFH
; Params for FLAGS  test 19 : RLA/RRA
DEFW FLAGS_TEST_19_LAUNCH
DEFB 52H ; R
DEFB 4CH ; L
DEFB 41H ; A
DEFB 2FH ; /
DEFB 52H ; R
DEFB 52H ; R
DEFB 41H ; A
DEFB FFH
; Params for FLAGS  test 20 : RLCA/RRCA
DEFW FLAGS_TEST_20_LAUNCH
DEFB 52H ; R
DEFB 4CH ; L
DEFB 43H ; C
DEFB 41H ; A
DEFB 2FH ; /
DEFB 52H ; R
DEFB 52H ; R
DEFB 43H ; C
DEFB 41H ; A
DEFB FFH
; Params for FLAGS  test 21 : RLC/RRC
DEFW FLAGS_TEST_21_LAUNCH
DEFB 52H ; R
DEFB 4CH ; L
DEFB 43H ; C
DEFB 2FH ; /
DEFB 52H ; R
DEFB 52H ; R
DEFB 43H ; C
DEFB FFH
; Params for FLAGS  test 22 : RL/RR
DEFW FLAGS_TEST_22_LAUNCH
DEFB 52H ; R
DEFB 4CH ; L
DEFB 2FH ; /
DEFB 52H ; R
DEFB 52H ; R
DEFB FFH
; Params for FLAGS  test 23 : SLA/SRA
DEFW FLAGS_TEST_23_LAUNCH
DEFB 53H ; S
DEFB 4CH ; L
DEFB 41H ; A
DEFB 2FH ; /
DEFB 53H ; S
DEFB 52H ; R
DEFB 41H ; A
DEFB FFH
; Params for FLAGS  test 24 : SLL/SRL
DEFW FLAGS_TEST_24_LAUNCH
DEFB 53H ; S
DEFB 4CH ; L
DEFB 4CH ; L
DEFB 2FH ; /
DEFB 53H ; S
DEFB 52H ; R
DEFB 4CH ; L
DEFB FFH
; Params for FLAGS  test 25 : RLD/RRD
DEFW FLAGS_TEST_25_LAUNCH
DEFB 52H ; R
DEFB 4CH ; L
DEFB 44H ; D
DEFB 2FH ; /
DEFB 52H ; R
DEFB 52H ; R
DEFB 44H ; D
DEFB FFH
; Params for FLAGS  test 26 : LD A,I/R
DEFW FLAGS_TEST_26_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 49H ; I
DEFB 2FH ; /
DEFB 52H ; R
DEFB FFH
; Params for FLAGS  test 27 : BIT n,(HL)
DEFW FLAGS_TEST_27_LAUNCH
DEFB 42H ; B
DEFB 49H ; I
DEFB 54H ; T
DEFB 20H ;  
DEFB 6EH ; n
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 48H ; H
DEFB 4CH ; L
DEFB 29H ; )
DEFB FFH
; Params for FLAGS  test 28 : BIT n,(IX+d)
DEFW FLAGS_TEST_28_LAUNCH
DEFB 42H ; B
DEFB 49H ; I
DEFB 54H ; T
DEFB 20H ;  
DEFB 6EH ; n
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 49H ; I
DEFB 58H ; X
DEFB 2BH ; +
DEFB 64H ; d
DEFB 29H ; )
DEFB FFH
; Params for FLAGS  test 29 : BIT n,(IY+d)
DEFW FLAGS_TEST_29_LAUNCH
DEFB 42H ; B
DEFB 49H ; I
DEFB 54H ; T
DEFB 20H ;  
DEFB 6EH ; n
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 49H ; I
DEFB 59H ; Y
DEFB 2BH ; +
DEFB 64H ; d
DEFB 29H ; )
DEFB FFH
; Params for FLAGS  test 30 : LDI
DEFW FLAGS_TEST_30_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 49H ; I
DEFB FFH
; Params for FLAGS  test 31 : LDD
DEFW FLAGS_TEST_31_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 44H ; D
DEFB FFH
; Params for FLAGS  test 32 : LDIR
DEFW FLAGS_TEST_32_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 49H ; I
DEFB 52H ; R
DEFB FFH
; Params for FLAGS  test 33 : LDDR
DEFW FLAGS_TEST_33_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 44H ; D
DEFB 52H ; R
DEFB FFH
; Params for FLAGS  test 34 : CPI
DEFW FLAGS_TEST_34_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 49H ; I
DEFB FFH
; Params for FLAGS  test 35 : CPD
DEFW FLAGS_TEST_35_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 44H ; D
DEFB FFH
; Params for FLAGS  test 36 : INI
DEFW FLAGS_TEST_36_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 49H ; I
DEFB FFH
; Params for FLAGS  test 37 : IND
DEFW FLAGS_TEST_37_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 44H ; D
DEFB FFH
; Params for FLAGS  test 38 : OUTI
DEFW FLAGS_TEST_38_LAUNCH
DEFB 4FH ; O
DEFB 55H ; U
DEFB 54H ; T
DEFB 49H ; I
DEFB FFH
; Params for FLAGS  test 39 : OUTD
DEFW FLAGS_TEST_39_LAUNCH
DEFB 4FH ; O
DEFB 55H ; U
DEFB 54H ; T
DEFB 44H ; D
DEFB FFH
; Params for FLAGS  test 40 : DD CB (00-FF)  ROM
DEFW FLAGS_TEST_40_LAUNCH
DEFB 44H ; D
DEFB 44H ; D
DEFB 20H ;  
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 20H ;  
DEFB 52H ; R
DEFB 4FH ; O
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 41 : DD CB (00-FF)  RAM
DEFW FLAGS_TEST_41_LAUNCH
DEFB 44H ; D
DEFB 44H ; D
DEFB 20H ;  
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 20H ;  
DEFB 52H ; R
DEFB 41H ; A
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 42 : FD CB (00-FF)  ROM
DEFW FLAGS_TEST_42_LAUNCH
DEFB 46H ; F
DEFB 44H ; D
DEFB 20H ;  
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 20H ;  
DEFB 52H ; R
DEFB 4FH ; O
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 43 : FD CB (00-FF)  RAM
DEFW FLAGS_TEST_43_LAUNCH
DEFB 46H ; F
DEFB 44H ; D
DEFB 20H ;  
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 20H ;  
DEFB 52H ; R
DEFB 41H ; A
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 44 : CB (00-FF)     ROM
DEFW FLAGS_TEST_44_LAUNCH
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 52H ; R
DEFB 4FH ; O
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 45 : CB (00-FF)     RAM
DEFW FLAGS_TEST_45_LAUNCH
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 20H ;  
DEFB 52H ; R
DEFB 41H ; A
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 46 : CB (00-FF) 5+3 ROM
DEFW FLAGS_TEST_46_LAUNCH
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 35H ; 5
DEFB 2BH ; +
DEFB 33H ; 3
DEFB 20H ;  
DEFB 52H ; R
DEFB 4FH ; O
DEFB 4DH ; M
DEFB FFH
; Params for FLAGS  test 47 : CB (00-FF) 5+3 RAM
DEFW FLAGS_TEST_47_LAUNCH
DEFB 43H ; C
DEFB 42H ; B
DEFB 20H ;  
DEFB 28H ; (
DEFB 30H ; 0
DEFB 30H ; 0
DEFB 2DH ; -
DEFB 46H ; F
DEFB 46H ; F
DEFB 29H ; )
DEFB 20H ;  
DEFB 35H ; 5
DEFB 2BH ; +
DEFB 33H ; 3
DEFB 20H ;  
DEFB 52H ; R
DEFB 41H ; A
DEFB 4DH ; M
DEFB FFH
DEFB 00H
DEFB 00H
; --- MEMPTR tests parameter table ---
; Params for MEMPTR  test 01 : LD A,(addr)
TABLE_MEMPTR_TESTS	DEFW MEMPTR_TEST_01_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 02 : LD (addr),A
DEFW MEMPTR_TEST_02_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 41H ; A
DEFB FFH
; Params for MEMPTR  test 03 : LD A,(BC)
DEFW MEMPTR_TEST_03_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 04 : LD A,(DE)
DEFW MEMPTR_TEST_04_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 44H ; D
DEFB 45H ; E
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 05 : LD A,(HL)
DEFW MEMPTR_TEST_05_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 48H ; H
DEFB 4CH ; L
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 06 : LD (BC),A
DEFW MEMPTR_TEST_06_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 41H ; A
DEFB FFH
; Params for MEMPTR  test 07 : LD (DE),A
DEFW MEMPTR_TEST_07_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 44H ; D
DEFB 45H ; E
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 41H ; A
DEFB FFH
; Params for MEMPTR  test 08 : LD (HL),A
DEFW MEMPTR_TEST_08_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 48H ; H
DEFB 4CH ; L
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 41H ; A
DEFB FFH
; Params for MEMPTR  test 09 : LD HL,(addr)
DEFW MEMPTR_TEST_09_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 48H ; H
DEFB 4CH ; L
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 10 : LD HL,(addr) [ED]
DEFW MEMPTR_TEST_10_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 48H ; H
DEFB 4CH ; L
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 20H ;  
DEFB 5BH ; [
DEFB 45H ; E
DEFB 44H ; D
DEFB 5DH ; ]
DEFB FFH
; Params for MEMPTR  test 11 : LD DE,(addr)
DEFW MEMPTR_TEST_11_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 44H ; D
DEFB 45H ; E
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 12 : LD BC,(addr)
DEFW MEMPTR_TEST_12_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 42H ; B
DEFB 43H ; C
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 13 : LD IX,(addr)
DEFW MEMPTR_TEST_13_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 49H ; I
DEFB 58H ; X
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 14 : LD IY,(addr)
DEFW MEMPTR_TEST_14_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 49H ; I
DEFB 59H ; Y
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 15 : LD SP,(addr)
DEFW MEMPTR_TEST_15_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 53H ; S
DEFB 50H ; P
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 16 : LD (addr),HL
DEFW MEMPTR_TEST_16_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 48H ; H
DEFB 4CH ; L
DEFB FFH
; Params for MEMPTR  test 17 : LD (addr),HL [ED]
DEFW MEMPTR_TEST_17_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 48H ; H
DEFB 4CH ; L
DEFB 20H ;  
DEFB 5BH ; [
DEFB 45H ; E
DEFB 44H ; D
DEFB 5DH ; ]
DEFB FFH
; Params for MEMPTR  test 18 : LD (addr),DE
DEFW MEMPTR_TEST_18_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 44H ; D
DEFB 45H ; E
DEFB FFH
; Params for MEMPTR  test 19 : LD (addr),BC
DEFW MEMPTR_TEST_19_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 42H ; B
DEFB 43H ; C
DEFB FFH
; Params for MEMPTR  test 20 : LD (addr),IX
DEFW MEMPTR_TEST_20_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 49H ; I
DEFB 58H ; X
DEFB FFH
; Params for MEMPTR  test 21 : LD (addr),IY
DEFW MEMPTR_TEST_21_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 49H ; I
DEFB 59H ; Y
DEFB FFH
; Params for MEMPTR  test 22 : LD (addr),SP
DEFW MEMPTR_TEST_22_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 20H ;  
DEFB 28H ; (
DEFB 61H ; a
DEFB 64H ; d
DEFB 64H ; d
DEFB 72H ; r
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 53H ; S
DEFB 50H ; P
DEFB FFH
; Params for MEMPTR  test 23 : EX (SP),HL
DEFW MEMPTR_TEST_23_LAUNCH
DEFB 45H ; E
DEFB 58H ; X
DEFB 20H ;  
DEFB 28H ; (
DEFB 53H ; S
DEFB 50H ; P
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 48H ; H
DEFB 4CH ; L
DEFB FFH
; Params for MEMPTR  test 24 : EX (SP),IX
DEFW MEMPTR_TEST_24_LAUNCH
DEFB 45H ; E
DEFB 58H ; X
DEFB 20H ;  
DEFB 28H ; (
DEFB 53H ; S
DEFB 50H ; P
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 49H ; I
DEFB 58H ; X
DEFB FFH
; Params for MEMPTR  test 25 : EX (SP),IY
DEFW MEMPTR_TEST_25_LAUNCH
DEFB 45H ; E
DEFB 58H ; X
DEFB 20H ;  
DEFB 28H ; (
DEFB 53H ; S
DEFB 50H ; P
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 49H ; I
DEFB 59H ; Y
DEFB FFH
; Params for MEMPTR  test 26 : ADD HL,BC
DEFW MEMPTR_TEST_26_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 44H ; D
DEFB 20H ;  
DEFB 48H ; H
DEFB 4CH ; L
DEFB 2CH ; ,
DEFB 42H ; B
DEFB 43H ; C
DEFB FFH
; Params for MEMPTR  test 27 : ADD IX,BC
DEFW MEMPTR_TEST_27_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 44H ; D
DEFB 20H ;  
DEFB 49H ; I
DEFB 58H ; X
DEFB 2CH ; ,
DEFB 42H ; B
DEFB 43H ; C
DEFB FFH
; Params for MEMPTR  test 28 : ADD IY,BC
DEFW MEMPTR_TEST_28_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 44H ; D
DEFB 20H ;  
DEFB 49H ; I
DEFB 59H ; Y
DEFB 2CH ; ,
DEFB 42H ; B
DEFB 43H ; C
DEFB FFH
; Params for MEMPTR  test 29 : ADC HL,BC
DEFW MEMPTR_TEST_29_LAUNCH
DEFB 41H ; A
DEFB 44H ; D
DEFB 43H ; C
DEFB 20H ;  
DEFB 48H ; H
DEFB 4CH ; L
DEFB 2CH ; ,
DEFB 42H ; B
DEFB 43H ; C
DEFB FFH
; Params for MEMPTR  test 30 : SBC HL,BC
DEFW MEMPTR_TEST_30_LAUNCH
DEFB 53H ; S
DEFB 42H ; B
DEFB 43H ; C
DEFB 20H ;  
DEFB 48H ; H
DEFB 4CH ; L
DEFB 2CH ; ,
DEFB 42H ; B
DEFB 43H ; C
DEFB FFH
; Params for MEMPTR  test 31 : DJNZ (taken)
DEFW MEMPTR_TEST_31_LAUNCH
DEFB 44H ; D
DEFB 4AH ; J
DEFB 4EH ; N
DEFB 5AH ; Z
DEFB 20H ;  
DEFB 28H ; (
DEFB 74H ; t
DEFB 61H ; a
DEFB 6BH ; k
DEFB 65H ; e
DEFB 6EH ; n
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 32 : DJNZ (not taken)
DEFW MEMPTR_TEST_32_LAUNCH
DEFB 44H ; D
DEFB 4AH ; J
DEFB 4EH ; N
DEFB 5AH ; Z
DEFB 20H ;  
DEFB 28H ; (
DEFB 6EH ; n
DEFB 6FH ; o
DEFB 74H ; t
DEFB 20H ;  
DEFB 74H ; t
DEFB 61H ; a
DEFB 6BH ; k
DEFB 65H ; e
DEFB 6EH ; n
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 33 : RLD
DEFW MEMPTR_TEST_33_LAUNCH
DEFB 52H ; R
DEFB 4CH ; L
DEFB 44H ; D
DEFB FFH
; Params for MEMPTR  test 34 : RRD
DEFW MEMPTR_TEST_34_LAUNCH
DEFB 52H ; R
DEFB 52H ; R
DEFB 44H ; D
DEFB FFH
; Params for MEMPTR  test 35 : IN A,(port)
DEFW MEMPTR_TEST_35_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 70H ; p
DEFB 6FH ; o
DEFB 72H ; r
DEFB 74H ; t
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 36 : IN A,(C)
DEFW MEMPTR_TEST_36_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 20H ;  
DEFB 41H ; A
DEFB 2CH ; ,
DEFB 28H ; (
DEFB 43H ; C
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 37 : OUT (port),A
DEFW MEMPTR_TEST_37_LAUNCH
DEFB 4FH ; O
DEFB 55H ; U
DEFB 54H ; T
DEFB 20H ;  
DEFB 28H ; (
DEFB 70H ; p
DEFB 6FH ; o
DEFB 72H ; r
DEFB 74H ; t
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 41H ; A
DEFB FFH
; Params for MEMPTR  test 38 : OUT (C),A
DEFW MEMPTR_TEST_38_LAUNCH
DEFB 4FH ; O
DEFB 55H ; U
DEFB 54H ; T
DEFB 20H ;  
DEFB 28H ; (
DEFB 43H ; C
DEFB 29H ; )
DEFB 2CH ; ,
DEFB 41H ; A
DEFB FFH
; Params for MEMPTR  test 39 : LDI
DEFW MEMPTR_TEST_39_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 49H ; I
DEFB FFH
; Params for MEMPTR  test 40 : LDD
DEFW MEMPTR_TEST_40_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 44H ; D
DEFB FFH
; Params for MEMPTR  test 41 : LDIR (BC=1)
DEFW MEMPTR_TEST_41_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 49H ; I
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3DH ; =
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 42 : LDIR (BC>1)
DEFW MEMPTR_TEST_42_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 49H ; I
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3EH ; >
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 43 : LDDR (BC=1)
DEFW MEMPTR_TEST_43_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 44H ; D
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3DH ; =
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 44 : LDDR (BC>1)
DEFW MEMPTR_TEST_44_LAUNCH
DEFB 4CH ; L
DEFB 44H ; D
DEFB 44H ; D
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3EH ; >
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 45 : CPI
DEFW MEMPTR_TEST_45_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 49H ; I
DEFB FFH
; Params for MEMPTR  test 46 : CPD
DEFW MEMPTR_TEST_46_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 44H ; D
DEFB FFH
; Params for MEMPTR  test 47 : CPIR (BC=1)
DEFW MEMPTR_TEST_47_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 49H ; I
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3DH ; =
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 48 : CPIR (BC>1)
DEFW MEMPTR_TEST_48_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 49H ; I
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3EH ; >
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 49 : CPDR (BC=1)
DEFW MEMPTR_TEST_49_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 44H ; D
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3DH ; =
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 50 : CPDR (BC>1)
DEFW MEMPTR_TEST_50_LAUNCH
DEFB 43H ; C
DEFB 50H ; P
DEFB 44H ; D
DEFB 52H ; R
DEFB 20H ;  
DEFB 28H ; (
DEFB 42H ; B
DEFB 43H ; C
DEFB 3EH ; >
DEFB 31H ; 1
DEFB 29H ; )
DEFB FFH
; Params for MEMPTR  test 51 : INI
DEFW MEMPTR_TEST_51_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 49H ; I
DEFB FFH
; Params for MEMPTR  test 52 : IND
DEFW MEMPTR_TEST_52_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 44H ; D
DEFB FFH
; Params for MEMPTR  test 53 : INIR
DEFW MEMPTR_TEST_53_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 49H ; I
DEFB 52H ; R
DEFB FFH
; Params for MEMPTR  test 54 : INDR
DEFW MEMPTR_TEST_54_LAUNCH
DEFB 49H ; I
DEFB 4EH ; N
DEFB 44H ; D
DEFB 52H ; R
DEFB FFH
; Params for MEMPTR  test 55 : OUTI
DEFW MEMPTR_TEST_55_LAUNCH
DEFB 4FH ; O
DEFB 55H ; U
DEFB 54H ; T
DEFB 49H ; I
DEFB FFH
; Params for MEMPTR  test 56 : OUTD
DEFW MEMPTR_TEST_56_LAUNCH
DEFB 4FH ; O
DEFB 55H ; U
DEFB 54H ; T
DEFB 44H ; D
DEFB FFH
; Params for MEMPTR  test 57 : OTIR
DEFW MEMPTR_TEST_57_LAUNCH
DEFB 4FH ; O
DEFB 54H ; T
DEFB 49H ; I
DEFB 52H ; R
DEFB FFH
; Params for MEMPTR  test 58 : OTDR
DEFW MEMPTR_TEST_58_LAUNCH
DEFB 4FH ; O
DEFB 54H ; T
DEFB 44H ; D
DEFB 52H ; R
DEFB FFH
DEFB 00H
DEFB 00H
; Launcher for FLAGS  test 01 : SCF
FLAGS_TEST_01_LAUNCH:	LD BC,0EBFH
	LD HL,FLAGS_TEST_01_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 01 : SCF
FLAGS_TEST_01_EXEC:	CCF
	SCF
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 02 : CCF
FLAGS_TEST_02_LAUNCH:	LD BC,3CEDH
	LD HL,FLAGS_TEST_02_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 02 : CCF
FLAGS_TEST_02_EXEC:	SCF
	CCF
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 03 : DAA
FLAGS_TEST_03_LAUNCH:	LD BC,20FDH
	LD HL,FLAGS_TEST_03_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 03 : DAA
FLAGS_TEST_03_EXEC:	DAA
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 04 : CPL
FLAGS_TEST_04_LAUNCH:	LD BC,B0D6H
	LD HL,FLAGS_TEST_04_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 04 : CPL
FLAGS_TEST_04_EXEC:	CPL
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 05 : NEG
FLAGS_TEST_05_LAUNCH:	LD BC,EE36H
	LD HL,FLAGS_TEST_05_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 05 : NEG
FLAGS_TEST_05_EXEC:	NEG
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 06 : AND
FLAGS_TEST_06_LAUNCH:	LD BC,CB8EH
	LD HL,FLAGS_TEST_06_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 06 : AND
FLAGS_TEST_06_EXEC:	LD A,B
	AND C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 07 : OR
FLAGS_TEST_07_LAUNCH:	LD BC,C57CH
	LD HL,FLAGS_TEST_07_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 07 : OR
FLAGS_TEST_07_EXEC:	LD A,B
	OR C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 08 : XOR
FLAGS_TEST_08_LAUNCH:	LD BC,26F4H
	LD HL,FLAGS_TEST_08_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 08 : XOR
FLAGS_TEST_08_EXEC:	LD A,B
	XOR C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 09 : CP
FLAGS_TEST_09_LAUNCH:	LD BC,1676H
	LD HL,FLAGS_TEST_09_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 09 : CP
FLAGS_TEST_09_EXEC:	LD A,B
	CP C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 11 : ADD8
FLAGS_TEST_11_LAUNCH:	LD BC,9C3CH
	LD HL,FLAGS_TEST_11_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 11 : ADD8
FLAGS_TEST_11_EXEC:	LD A,C
	ADD A,C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 12 : ADC8
FLAGS_TEST_12_LAUNCH:	LD BC,6E2AH
	LD HL,FLAGS_TEST_12_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 12 : ADC8
FLAGS_TEST_12_EXEC:	LD A,B
	ADC A,C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 14 : SUB8
FLAGS_TEST_14_LAUNCH:	LD BC,1EF5H
	LD HL,FLAGS_TEST_14_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 14 : SUB8
FLAGS_TEST_14_EXEC:	LD A,B
	SUB C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 15 : SBC8
FLAGS_TEST_15_LAUNCH:	LD BC,F6DDH
	LD HL,FLAGS_TEST_15_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 15 : SBC8
FLAGS_TEST_15_EXEC:	LD A,B
	SBC A,C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 10 : INC8
FLAGS_TEST_10_LAUNCH:	LD BC,48CFH
	LD HL,FLAGS_TEST_10_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 10 : INC8
FLAGS_TEST_10_EXEC:	DEC C
	INC C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 13 : DEC8
FLAGS_TEST_13_LAUNCH:	LD BC,E0D5H
	LD HL,FLAGS_TEST_13_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 13 : DEC8
FLAGS_TEST_13_EXEC:	INC C
	DEC C
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 16 : ADD16
FLAGS_TEST_16_LAUNCH:	LD BC,E268H
	LD HL,FLAGS_TEST_16_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 16 : ADD16
FLAGS_TEST_16_EXEC:	ADD HL,BC
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 17 : ADC16
FLAGS_TEST_17_LAUNCH:	LD BC,715FH
	LD HL,FLAGS_TEST_17_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 17 : ADC16
FLAGS_TEST_17_EXEC:	LD A,C
	ADD A,A
	ADC HL,BC
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 18 : SBC16
FLAGS_TEST_18_LAUNCH:	LD BC,0E1CH
	LD HL,FLAGS_TEST_18_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 18 : SBC16
FLAGS_TEST_18_EXEC:	LD A,C
	ADD A,A
	SBC HL,BC
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 19 : RLA/RRA
FLAGS_TEST_19_LAUNCH:	LD BC,13C1H
	LD HL,FLAGS_TEST_19_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 19 : RLA/RRA
FLAGS_TEST_19_EXEC:	LD A,C
	RLA
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,C
	RRA
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 20 : RLCA/RRCA
FLAGS_TEST_20_LAUNCH:	LD BC,13C1H
	LD HL,FLAGS_TEST_20_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 20 : RLCA/RRCA
FLAGS_TEST_20_EXEC:	LD A,C
	RLCA
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,C
	RRCA
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 21 : RLC/RRC
FLAGS_TEST_21_LAUNCH:	LD BC,10ABH
	LD HL,FLAGS_TEST_21_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 21 : RLC/RRC
FLAGS_TEST_21_EXEC:	LD A,C
	RLC A
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,C
	RRC A
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 22 : RL/RR
FLAGS_TEST_22_LAUNCH:	LD BC,E221H
	LD HL,FLAGS_TEST_22_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 22 : RL/RR
FLAGS_TEST_22_EXEC:	LD A,C
	RL A
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,C
	RR A
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 23 : SLA/SRA
FLAGS_TEST_23_LAUNCH:	LD BC,DEFAH
	LD HL,FLAGS_TEST_23_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 23 : SLA/SRA
FLAGS_TEST_23_EXEC:	LD A,C
	SLA A
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,C
	SRA A
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 24 : SLL/SRL
FLAGS_TEST_24_LAUNCH:	LD BC,5FDDH
	LD HL,FLAGS_TEST_24_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 24 : SLL/SRL
FLAGS_TEST_24_EXEC:	LD A,C
	SLL A
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,C
	SRL A
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 25 : RLD/RRD
FLAGS_TEST_25_LAUNCH:	LD BC,7997H
	LD HL,FLAGS_TEST_25_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 25 : RLD/RRD
FLAGS_TEST_25_EXEC:	LD H,05H
	LD A,L
	INC L
	RLD
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,L
	INC L
	RRD
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 26 : LD A,I/R
FLAGS_TEST_26_LAUNCH:	LD BC,220CH
	LD HL,FLAGS_TEST_26_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 26 : LD A,I/R
FLAGS_TEST_26_EXEC:	LD A,I
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,R
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 27 : BIT n,(HL)
FLAGS_TEST_27_LAUNCH:	LD BC,6208H
	LD HL,FLAGS_TEST_27_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 27 : BIT n,(HL)
FLAGS_TEST_27_EXEC:	LD A,R
	LD L,A
	BIT 0,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 1,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 2,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 3,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 4,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 5,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 6,(HL)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 7,(HL)
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 28 : BIT n,(IX+d)
FLAGS_TEST_28_LAUNCH:	LD BC,4AD9H
	LD HL,FLAGS_TEST_28_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 28 : BIT n,(IX+d)
FLAGS_TEST_28_EXEC:	LD A,R
	LD IXl,A
	BIT 0,(IX+0)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 1,(IX+127)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 2,(IX-128)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 3,(IX+64)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 4,(IX-64)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 5,(IX+32)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 6,(IX-32)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 7,(IX-1)
	JP ADD_FLAGS_TO_CHECKSUM
; Launcher for FLAGS  test 29 : BIT n,(IY+d)
FLAGS_TEST_29_LAUNCH:	LD BC,3A82H
	LD HL,FLAGS_TEST_29_EXEC
	JP FLAGS_TEST_COMMON_EXEC
; Code executed for FLAGS  test 29 : BIT n,(IY+d)
FLAGS_TEST_29_EXEC:	LD A,R
	LD IYl,A
	BIT 0,(IY+0)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 1,(IY+127)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 2,(IY-128)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 3,(IY+69)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 4,(IY-69)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 5,(IY+12)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 6,(IY-12)
	CALL ADD_FLAGS_TO_CHECKSUM
	BIT 7,(IY+1)
	JP ADD_FLAGS_TO_CHECKSUM
; Generic execution environment for flags test
FLAGS_TEST_COMMON_EXEC:	DI
	PUSH BC
	LD (894CH),HL ; Replaces instruction CALL START below with CALL (test EXEC address)
	CALL RESET_FLAGS_CHECKSUM
	LD IX,2000H
	LD IY,2000H
	LD HL,0000H
	LD DE,0000H
	LD BC,0000H
	XOR A
	LD R,A
FLAGS_TEST_CMN_EXEC_AF_VAL:	PUSH BC
	POP AF
	CALL START
; ==> call to one of the FLAGS_TEST_nn_EXEC routine
	INC C
	JR NZ,FLAGS_TEST_CMN_EXEC_AF_VAL
	INC B
	JR NZ,FLAGS_TEST_CMN_EXEC_AF_VAL
	LD IY,5C3AH
	EI
	LD HL,(VAR_FLAGS_CHECKSUM)
	CALL DISPLAY_TWO_HEXBYTES ; Display Flags checksum value
	LD A,20H
	RST 10H
	POP BC
	OR A
	SBC HL,BC ; Compare Flags checksum with expected value
	RET NZ ; ==> return to TEST_SCREEN_TEST_FAILED
	POP HL
	RET ; ==> return to TEST_SCREEN_TEST_PASSED
; Launcher for FLAGS  test 30 : LDI
FLAGS_TEST_30_LAUNCH:	LD HL,A0EDH
	LD BC,4487H
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 31 : LDD
FLAGS_TEST_31_LAUNCH:	LD HL,A8EDH
	LD BC,7F0EH
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 32 : LDIR
FLAGS_TEST_32_LAUNCH:	LD HL,B0EDH
	LD BC,9ACCH
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 33 : LDDR
FLAGS_TEST_33_LAUNCH:	LD HL,B8EDH
	LD BC,CE51H
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 34 : CPI
FLAGS_TEST_34_LAUNCH:	LD HL,A1EDH
	LD BC,55DBH
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 35 : CPD
FLAGS_TEST_35_LAUNCH:	LD HL,A9EDH
	LD BC,AC82H
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 36 : INI
FLAGS_TEST_36_LAUNCH:	LD HL,A2EDH
	LD BC,F25DH
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 37 : IND
FLAGS_TEST_37_LAUNCH:	LD HL,AAEDH
	LD BC,4A02H
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 38 : OUTI
FLAGS_TEST_38_LAUNCH:	LD HL,A3EDH
	LD BC,8B66H
	JR FLAGS_TEST_REPEAT_EXEC
; Launcher for FLAGS  test 39 : OUTD
FLAGS_TEST_39_LAUNCH:	LD HL,ABEDH
	LD BC,1156H
	JR FLAGS_TEST_REPEAT_EXEC
FLAGS_TEST_REPEAT_EXEC:	PUSH BC
	LD (89D1H),HL ; Replaces instruction LDI below with one of the repeated instructions from the test table
	CALL RESET_FLAGS_CHECKSUM
	LD BC,0000H
FLAGS_TEST_REPEAT_EXEC_EXT_LOOP:	EXX
	LD HL,1800H
	LD DE,1801H
	LD BC,10FEH
FLAGS_TEST_REPEAT_EXEC_INN_LOOP:	EXX
	PUSH BC
	POP AF
	EXX
; ==> executes one of the repeated instructions from the test table
	LDI
	CALL ADD_FLAGS_TO_CHECKSUM
	LD A,B
	OR A
	JR NZ,FLAGS_TEST_REPEAT_EXEC_INN_LOOP
	EXX
	INC C
	JR NZ,FLAGS_TEST_REPEAT_EXEC_EXT_LOOP
	LD HL,(VAR_FLAGS_CHECKSUM)
	CALL DISPLAY_TWO_HEXBYTES ; Display Flags checksum value
	LD A,20H
	RST 10H
	POP BC
	OR A
	SBC HL,BC ; Compare Flags checksum with expected value
	RET NZ ; ==> return to TEST_SCREEN_TEST_FAILED
	POP HL
	RET ; ==> return to TEST_SCREEN_TEST_PASSED
; Launcher for FLAGS  test 40 : DD CB (00-FF)  ROM
FLAGS_TEST_40_LAUNCH:	LD IX,01A0H
	LD BC,D9EBH
	JR FLAGS_TEST_DDCB_EXEC
; Launcher for FLAGS  test 41 : DD CB (00-FF)  RAM
FLAGS_TEST_41_LAUNCH:	LD HL,02ABH
	LD DE,C000H
	LD BC,0100H
	LDIR
	LD IX,C000H
	LD BC,90C0H
	JR FLAGS_TEST_DDCB_EXEC
FLAGS_TEST_DDCB_EXEC:	DI
	PUSH BC
	LD IY,0000H
	LD HL,0000H
	LD DE,0000H
	LD BC,0000H
	PUSH HL
	POP AF
FLAGS_TEST_DDCB_EXEC_LOOP:	LD (8A22H),A
	RLC (IX+0),B ; <= third byte of opcode replaced with all values between 00 and FF by the line above
	PUSH AF
	ADD IY,DE
	ADD IY,BC
	EX DE,HL
	ADD IY,DE
	POP DE
	ADD IY,DE
	LD D,00H
	LD E,(IX+0)
	ADD IY,DE
	INC IX
	LD A,(8A22H)
	INC A
	JR NZ,FLAGS_TEST_DDCB_EXEC_LOOP
	PUSH IY
	POP HL
	LD IY,5C3AH
	EI
	CALL DISPLAY_TWO_HEXBYTES ; Display Flags checksum value
	LD A,20H
	RST 10H
	POP BC
	OR A
	SBC HL,BC ; Compare Flags checksum with expected value
	RET NZ ; ==> return to TEST_SCREEN_TEST_FAILED
	POP HL
	RET ; ==> return to TEST_SCREEN_TEST_PASSED
; Launcher for FLAGS  test 42 : FD CB (00-FF)  ROM
FLAGS_TEST_42_LAUNCH:	LD HL,01A0H
	LD BC,D9EBH
	JR FLAGS_TEST_FDCB_EXEC
; Launcher for FLAGS  test 43 : FD CB (00-FF)  RAM
FLAGS_TEST_43_LAUNCH:	LD HL,02ABH
	LD DE,C000H
	LD BC,0100H
	LDIR
	LD HL,C000H
	LD BC,90C0H
	JR FLAGS_TEST_FDCB_EXEC
FLAGS_TEST_FDCB_EXEC:	DI
	PUSH BC
	PUSH HL
	POP IY
	LD IX,0000H
	LD HL,0000H
	LD DE,0000H
	LD BC,0000H
	PUSH HL
	POP AF
FLAGS_TEST_FDCB_EXEC_LOOP:	LD (8A87H),A
	RLC (IY+0),B ; <= third byte of opcode replaced with all values between 00 and FF by the line above
	PUSH AF
	ADD IX,DE
	ADD IX,BC
	EX DE,HL
	ADD IX,DE
	POP DE
	ADD IX,DE
	LD D,00H
	LD E,(IY+0)
	ADD IX,DE
	INC IY
	LD A,(8A87H)
	INC A
	JR NZ,FLAGS_TEST_FDCB_EXEC_LOOP
	PUSH IX
	POP HL
	LD IY,5C3AH
	EI
	CALL DISPLAY_TWO_HEXBYTES ; Display Flags checksum value
	LD A,20H
	RST 10H
	POP BC
	OR A
	SBC HL,BC ; Compare Flags checksum with expected value
	RET NZ ; ==> return to TEST_SCREEN_TEST_FAILED
	POP HL
	RET ; ==> return to TEST_SCREEN_TEST_PASSED
; Launcher for FLAGS  test 46 : CB (00-FF) 5+3 ROM
FLAGS_TEST_46_LAUNCH:	LD A,01H
	LD (VAR_SAVE_A2),A
	LD IX,01A0H
	LD BC,4D19H
	JR FLAGS_TEST_CB_EXEC
; Launcher for FLAGS  test 47 : CB (00-FF) 5+3 RAM
FLAGS_TEST_47_LAUNCH:	LD A,01H
	LD (VAR_SAVE_A2),A
	LD HL,02ABH
	LD DE,C000H
	LD BC,0100H
	LDIR
	LD IX,C000H
	LD BC,1B66H
	JR FLAGS_TEST_CB_EXEC
; Launcher for FLAGS  test 44 : CB (00-FF)     ROM
FLAGS_TEST_44_LAUNCH:	XOR A
	LD (VAR_SAVE_A2),A
	LD IX,01A0H
	LD BC,4731H
	JR FLAGS_TEST_CB_EXEC
; Launcher for FLAGS  test 45 : CB (00-FF)     RAM
FLAGS_TEST_45_LAUNCH:	XOR A
	LD (VAR_SAVE_A2),A
	LD HL,02ABH
	LD DE,C000H
	LD BC,0100H
	LDIR
	LD IX,C000H
	LD BC,15AEH
	JR FLAGS_TEST_CB_EXEC
FLAGS_TEST_CB_EXEC:	DI
	PUSH BC
	LD IY,0000H
	LD HL,0000H
	LD DE,0000H
	LD BC,0000H
	PUSH HL
	POP AF
FLAGS_TEST_CB_EXEC_LOOP:	LD (8B2BH),A
	LD (8B25H),A
	AND 07H
	CP 06H
	JR NZ,FLAGS_TEST_CB_EXEC_CASE1
	PUSH HL
	PUSH IX
	POP HL
	RLC B ; <= third byte of opcode replaced with all values between 00 and FF by the line above at 8B17
	LD A,(HL)
	POP HL
	JR FLAGS_TEST_CB_EXEC_CASE2
FLAGS_TEST_CB_EXEC_CASE1:	RLC B ; <= third byte of opcode replaced with all values between 00 and FF by the line above at 8B14
FLAGS_TEST_CB_EXEC_CASE2:	PUSH AF
	ADD IY,DE
	POP DE
	LD A,(VAR_SAVE_A2)
	OR A
	JR NZ,FLAGS_TEST_CB_EXEC_CASE3
	RES 5,E
	RES 3,E
FLAGS_TEST_CB_EXEC_CASE3:	ADD IY,DE
	ADD IY,BC
	EX DE,HL
	ADD IY,DE
	INC IX
	LD A,(8B2BH)
	INC A
	JR NZ,FLAGS_TEST_CB_EXEC_LOOP
	PUSH IY
	POP HL
	LD IY,5C3AH
	EI
	CALL DISPLAY_TWO_HEXBYTES ; Display Flags checksum value
	LD A,20H
	RST 10H
	POP BC
	OR A
	SBC HL,BC ; Compare Flags checksum with expected value
	RET NZ ; ==> return to TEST_SCREEN_TEST_FAILED
	POP HL
	RET ; ==> return to TEST_SCREEN_TEST_PASSED
VAR_SAVE_A2:DEFB 00H ; Used to save and restore accumulator in FLAGS_TEST_CB_EXEC
; Launcher for MEMPTR  test 31 : DJNZ (taken)
MEMPTR_TEST_31_LAUNCH:	LD HL,MEMPTR_TEST_31_EXEC
	LD BC,002BH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 31 : DJNZ (taken)
MEMPTR_TEST_31_EXEC:	CALL EXEC_DJNZ_FF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 32 : DJNZ (not taken)
MEMPTR_TEST_32_LAUNCH:	LD HL,MEMPTR_TEST_32_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 32 : DJNZ (not taken)
MEMPTR_TEST_32_EXEC:	CALL EXEC_DJNZ_01
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 01 : LD A,(addr)
MEMPTR_TEST_01_LAUNCH:	LD HL,MEMPTR_TEST_01_EXEC
	LD BC,2FF8H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 01 : LD A,(addr)
MEMPTR_TEST_01_EXEC:	PUSH AF
	LD A,(2FF7H)
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 02 : LD (addr),A
MEMPTR_TEST_02_LAUNCH:	LD HL,MEMPTR_TEST_02_EXEC
	LD BC,35FCH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 02 : LD (addr),A
MEMPTR_TEST_02_EXEC:	PUSH AF
	LD A,35H
	LD (20FBH),A
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 03 : LD A,(BC)
MEMPTR_TEST_03_LAUNCH:	LD HL,MEMPTR_TEST_03_EXEC
	LD BC,1F8DH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 03 : LD A,(BC)
MEMPTR_TEST_03_EXEC:	PUSH BC
	PUSH AF
	LD BC,1F8CH
	LD A,(BC)
	POP AF
	POP BC
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 04 : LD A,(DE)
MEMPTR_TEST_04_LAUNCH:	LD HL,MEMPTR_TEST_04_EXEC
	LD BC,311FH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 04 : LD A,(DE)
MEMPTR_TEST_04_EXEC:	PUSH DE
	PUSH AF
	LD DE,311EH
	LD A,(DE)
	POP AF
	POP DE
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 05 : LD A,(HL)
MEMPTR_TEST_05_LAUNCH:	LD HL,MEMPTR_TEST_05_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 05 : LD A,(HL)
MEMPTR_TEST_05_EXEC:	PUSH HL
	PUSH AF
	LD HL,2113H
	LD A,(HL)
	POP AF
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 06 : LD (BC),A
MEMPTR_TEST_06_LAUNCH:	LD HL,MEMPTR_TEST_06_EXEC
	LD BC,179CH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 06 : LD (BC),A
MEMPTR_TEST_06_EXEC:	PUSH BC
	PUSH AF
	LD BC,0E9BH
	LD A,17H
	LD (BC),A
	POP AF
	POP BC
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 07 : LD (DE),A
MEMPTR_TEST_07_LAUNCH:	LD HL,MEMPTR_TEST_07_EXEC
	LD BC,3A08H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 07 : LD (DE),A
MEMPTR_TEST_07_EXEC:	PUSH DE
	PUSH AF
	LD DE,3307H
	LD A,FAH
	LD (DE),A
	POP AF
	POP DE
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 08 : LD (HL),A
MEMPTR_TEST_08_LAUNCH:	LD HL,MEMPTR_TEST_08_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 08 : LD (HL),A
MEMPTR_TEST_08_EXEC:	PUSH HL
	PUSH AF
	LD HL,1EFEH
	LD A,FFH
	LD (HL),A
	POP AF
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 09 : LD HL,(addr)
MEMPTR_TEST_09_LAUNCH:	LD HL,MEMPTR_TEST_09_EXEC
	LD BC,0F0AH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 09 : LD HL,(addr)
MEMPTR_TEST_09_EXEC:	PUSH HL
	LD HL,(0F09H)
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 10 : LD HL,(addr) [ED]
MEMPTR_TEST_10_LAUNCH:	LD HL,MEMPTR_TEST_10_EXEC
	LD BC,21DBH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 10 : LD HL,(addr) [ED]
MEMPTR_TEST_10_EXEC:	PUSH HL
	LD[EDH 6BH] HL,(21DAH)
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 11 : LD DE,(addr)
MEMPTR_TEST_11_LAUNCH:	LD HL,MEMPTR_TEST_11_EXEC
	LD BC,347BH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 11 : LD DE,(addr)
MEMPTR_TEST_11_EXEC:	PUSH DE
	LD DE,(347AH)
	POP DE
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 12 : LD BC,(addr)
MEMPTR_TEST_12_LAUNCH:	LD HL,MEMPTR_TEST_12_EXEC
	LD BC,0140H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 12 : LD BC,(addr)
MEMPTR_TEST_12_EXEC:	PUSH BC
	LD BC,(013FH)
	POP BC
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 13 : LD IX,(addr)
MEMPTR_TEST_13_LAUNCH:	LD HL,MEMPTR_TEST_13_EXEC
	LD BC,2F40H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 13 : LD IX,(addr)
MEMPTR_TEST_13_EXEC:	PUSH IX
	LD IX,(2F3FH)
	POP IX
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 14 : LD IY,(addr)
MEMPTR_TEST_14_LAUNCH:	LD HL,MEMPTR_TEST_14_EXEC
	LD BC,0001H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 14 : LD IY,(addr)
MEMPTR_TEST_14_EXEC:	PUSH IY
	LD IY,(0000H)
	POP IY
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 15 : LD SP,(addr)
MEMPTR_TEST_15_LAUNCH:	LD HL,MEMPTR_TEST_15_EXEC
	LD BC,1978H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 15 : LD SP,(addr)
MEMPTR_TEST_15_EXEC:	PUSH HL
	LD HL,0000H
	ADD HL,SP
	LD SP,(1977H)
	LD SP,HL
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 16 : LD (addr),HL
MEMPTR_TEST_16_LAUNCH:	LD HL,MEMPTR_TEST_16_EXEC
	LD BC,3042H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 16 : LD (addr),HL
MEMPTR_TEST_16_EXEC:	LD (3041H),HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 17 : LD (addr),HL [ED]
MEMPTR_TEST_17_LAUNCH:	LD HL,MEMPTR_TEST_17_EXEC
	LD BC,1A45H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 17 : LD (addr),HL [ED]
MEMPTR_TEST_17_EXEC:	LD[EDH 63H] (1A44H),HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 18 : LD (addr),DE
MEMPTR_TEST_18_LAUNCH:	LD HL,MEMPTR_TEST_18_EXEC
	LD BC,000AH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 18 : LD (addr),DE
MEMPTR_TEST_18_EXEC:	LD (0009H),DE
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 19 : LD (addr),BC
MEMPTR_TEST_19_LAUNCH:	LD HL,MEMPTR_TEST_19_EXEC
	LD BC,2E98H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 19 : LD (addr),BC
MEMPTR_TEST_19_EXEC:	LD (2E97H),BC
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 20 : LD (addr),IX
MEMPTR_TEST_20_LAUNCH:	LD HL,MEMPTR_TEST_20_EXEC
	LD BC,0D56H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 20 : LD (addr),IX
MEMPTR_TEST_20_EXEC:	LD (0D55H),IX
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 21 : LD (addr),IY
MEMPTR_TEST_21_LAUNCH:	LD HL,MEMPTR_TEST_21_EXEC
	LD BC,1912H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 21 : LD (addr),IY
MEMPTR_TEST_21_EXEC:	LD (1911H),IY
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 22 : LD (addr),SP
MEMPTR_TEST_22_LAUNCH:	LD HL,MEMPTR_TEST_22_EXEC
	LD BC,0115H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 22 : LD (addr),SP
MEMPTR_TEST_22_EXEC:	LD (0114H),SP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 23 : EX (SP),HL
MEMPTR_TEST_23_LAUNCH:	LD HL,MEMPTR_TEST_23_EXEC
	LD BC,3809H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 23 : EX (SP),HL
MEMPTR_TEST_23_EXEC:	PUSH HL
	LD HL,3809H
	EX (SP),HL
	EX (SP),HL
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 24 : EX (SP),IX
MEMPTR_TEST_24_LAUNCH:	LD HL,MEMPTR_TEST_24_EXEC
	LD BC,2114H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 24 : EX (SP),IX
MEMPTR_TEST_24_EXEC:	PUSH IX
	LD IX,2114H
	EX (SP),IX
	EX (SP),IX
	POP IX
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 25 : EX (SP),IY
MEMPTR_TEST_25_LAUNCH:	LD HL,MEMPTR_TEST_25_EXEC
	LD BC,0737H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 25 : EX (SP),IY
MEMPTR_TEST_25_EXEC:	PUSH IY
	LD IY,0737H
	EX (SP),IY
	EX (SP),IY
	POP IY
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 26 : ADD HL,BC
MEMPTR_TEST_26_LAUNCH:	LD HL,MEMPTR_TEST_26_EXEC
	LD BC,099BH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 26 : ADD HL,BC
MEMPTR_TEST_26_EXEC:	PUSH HL
	PUSH BC
	LD HL,099AH
	LD BC,1000H
	ADD HL,BC
	POP BC
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 27 : ADD IX,BC
MEMPTR_TEST_27_LAUNCH:	LD HL,MEMPTR_TEST_27_EXEC
	LD BC,2A44H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 27 : ADD IX,BC
MEMPTR_TEST_27_EXEC:	PUSH IX
	PUSH BC
	LD IX,2A43H
	LD BC,1000H
	ADD IX,BC
	POP BC
	POP IX
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 28 : ADD IY,BC
MEMPTR_TEST_28_LAUNCH:	LD HL,MEMPTR_TEST_28_EXEC
	LD BC,019DH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 28 : ADD IY,BC
MEMPTR_TEST_28_EXEC:	PUSH IY
	PUSH BC
	LD IY,019CH
	LD BC,1000H
	ADD IY,BC
	POP BC
	POP IY
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 29 : ADC HL,BC
MEMPTR_TEST_29_LAUNCH:	LD HL,MEMPTR_TEST_29_EXEC
	LD BC,1773H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 29 : ADC HL,BC
MEMPTR_TEST_29_EXEC:	PUSH HL
	PUSH BC
	LD HL,1772H
	LD BC,1000H
	OR A
	ADC HL,BC
	POP BC
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 30 : SBC HL,BC
MEMPTR_TEST_30_LAUNCH:	LD HL,MEMPTR_TEST_30_EXEC
	LD BC,2446H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 30 : SBC HL,BC
MEMPTR_TEST_30_EXEC:	PUSH HL
	PUSH BC
	LD HL,2445H
	LD BC,1000H
	OR A
	SBC HL,BC
	POP BC
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 33 : RLD
MEMPTR_TEST_33_LAUNCH:	LD HL,MEMPTR_TEST_33_EXEC
	LD BC,117FH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 33 : RLD
MEMPTR_TEST_33_EXEC:	PUSH HL
	PUSH AF
	LD HL,117EH
	LD A,FDH
	RLD
	POP AF
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 34 : RRD
MEMPTR_TEST_34_LAUNCH:	LD HL,MEMPTR_TEST_34_EXEC
	LD BC,34AEH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 34 : RRD
MEMPTR_TEST_34_EXEC:	PUSH HL
	PUSH AF
	LD HL,34ADH
	LD A,FDH
	RRD
	POP AF
	POP HL
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 35 : IN A,(port)
MEMPTR_TEST_35_LAUNCH:	LD HL,MEMPTR_TEST_35_EXEC
	LD BC,3100H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 35 : IN A,(port)
MEMPTR_TEST_35_EXEC:	PUSH AF
	LD A,30H
	IN A,(FFH)
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 36 : IN A,(C)
MEMPTR_TEST_36_LAUNCH:	LD HL,MEMPTR_TEST_36_EXEC
	LD BC,0AFFH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 36 : IN A,(C)
MEMPTR_TEST_36_EXEC:	PUSH BC
	PUSH AF
	LD BC,0AFEH
	IN A,(C)
	POP AF
	POP BC
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 37 : OUT (port),A
MEMPTR_TEST_37_LAUNCH:	LD HL,MEMPTR_TEST_37_EXEC
	LD BC,2100H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 37 : OUT (port),A
MEMPTR_TEST_37_EXEC:	PUSH AF
	LD A,21H
	OUT (FFH),A
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 38 : OUT (C),A
MEMPTR_TEST_38_LAUNCH:	LD HL,MEMPTR_TEST_38_EXEC
	LD BC,3DFFH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 38 : OUT (C),A
MEMPTR_TEST_38_EXEC:	PUSH BC
	PUSH AF
	LD BC,3DFEH
	LD A,07H
	OUT (C),A
	POP AF
	POP BC
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 39 : LDI
MEMPTR_TEST_39_LAUNCH:	LD HL,MEMPTR_TEST_39_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 39 : LDI
MEMPTR_TEST_39_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD DE,2000H
	LD BC,3000H
	LDI
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 40 : LDD
MEMPTR_TEST_40_LAUNCH:	LD HL,MEMPTR_TEST_40_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 40 : LDD
MEMPTR_TEST_40_EXEC:	PUSH AF
	EXX
	LD HL,2000H
	LD DE,3000H
	LD BC,1000H
	LDD
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 41 : LDIR (BC=1)
MEMPTR_TEST_41_LAUNCH:	LD HL,MEMPTR_TEST_41_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 41 : LDIR (BC=1)
MEMPTR_TEST_41_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD DE,2000H
	LD BC,0001H
	CALL EXEC_LDIR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 42 : LDIR (BC>1)
MEMPTR_TEST_42_LAUNCH:	LD HL,MEMPTR_TEST_42_EXEC
	LD BC,0007H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 42 : LDIR (BC>1)
MEMPTR_TEST_42_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD DE,2000H
	LD BC,000AH
	CALL EXEC_LDIR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 43 : LDDR (BC=1)
MEMPTR_TEST_43_LAUNCH:	LD HL,MEMPTR_TEST_43_EXEC
	LD BC,0000H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 43 : LDDR (BC=1)
MEMPTR_TEST_43_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD DE,2000H
	LD BC,0001H
	CALL EXEC_LDDR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 44 : LDDR (BC>1)
MEMPTR_TEST_44_LAUNCH:	LD HL,MEMPTR_TEST_44_EXEC
	LD BC,000EH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 44 : LDDR (BC>1)
MEMPTR_TEST_44_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD DE,2000H
	LD BC,000AH
	CALL EXEC_LDDR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 45 : CPI
MEMPTR_TEST_45_LAUNCH:	LD HL,MEMPTR_TEST_45_EXEC
	LD BC,0001H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 45 : CPI
MEMPTR_TEST_45_EXEC:	PUSH AF
	EXX
	CPI
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 46 : CPD
MEMPTR_TEST_46_LAUNCH:	LD HL,MEMPTR_TEST_46_EXEC
	LD BC,3FFFH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 46 : CPD
MEMPTR_TEST_46_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	CPD
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 47 : CPIR (BC=1)
MEMPTR_TEST_47_LAUNCH:	LD HL,MEMPTR_TEST_47_EXEC
	LD BC,0001H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 47 : CPIR (BC=1)
MEMPTR_TEST_47_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD BC,0001H
	XOR A
	CALL EXEC_CPIR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 48 : CPIR (BC>1)
MEMPTR_TEST_48_LAUNCH:	LD HL,MEMPTR_TEST_48_EXEC
	LD BC,0017H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 48 : CPIR (BC>1)
MEMPTR_TEST_48_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD BC,0002H
	XOR A
	CALL EXEC_CPIR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 49 : CPDR (BC=1)
MEMPTR_TEST_49_LAUNCH:	LD HL,MEMPTR_TEST_49_EXEC
	LD BC,3FFFH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 49 : CPDR (BC=1)
MEMPTR_TEST_49_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD BC,0001H
	XOR A
	CALL EXEC_CPDR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 50 : CPDR (BC>1)
MEMPTR_TEST_50_LAUNCH:	LD HL,MEMPTR_TEST_50_EXEC
	LD BC,001FH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 50 : CPDR (BC>1)
MEMPTR_TEST_50_EXEC:	PUSH AF
	EXX
	LD HL,1000H
	LD BC,0002H
	XOR A
	CALL EXEC_CPDR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 51 : INI
MEMPTR_TEST_51_LAUNCH:	LD HL,MEMPTR_TEST_51_EXEC
	LD BC,3FFFH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 51 : INI
MEMPTR_TEST_51_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,3FFEH
	INI
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 52 : IND
MEMPTR_TEST_52_LAUNCH:	LD HL,MEMPTR_TEST_52_EXEC
	LD BC,3FFDH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 52 : IND
MEMPTR_TEST_52_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,3FFEH
	IND
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 53 : INIR
MEMPTR_TEST_53_LAUNCH:	LD HL,MEMPTR_TEST_53_EXEC
	LD BC,01FFH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 53 : INIR
MEMPTR_TEST_53_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,04FEH
	INIR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 54 : INDR
MEMPTR_TEST_54_LAUNCH:	LD HL,MEMPTR_TEST_54_EXEC
	LD BC,01FDH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 54 : INDR
MEMPTR_TEST_54_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,08FEH
	INDR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 55 : OUTI
MEMPTR_TEST_55_LAUNCH:	LD HL,MEMPTR_TEST_55_EXEC
	LD BC,3F00H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 55 : OUTI
MEMPTR_TEST_55_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,3FFFH
	OUTI
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 56 : OUTD
MEMPTR_TEST_56_LAUNCH:	LD HL,MEMPTR_TEST_56_EXEC
	LD BC,01FEH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 56 : OUTD
MEMPTR_TEST_56_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,02FFH
	OUTD
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 57 : OTIR
MEMPTR_TEST_57_LAUNCH:	LD HL,MEMPTR_TEST_57_EXEC
	LD BC,0100H
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 57 : OTIR
MEMPTR_TEST_57_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,04FFH
	OTIR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
; Launcher for MEMPTR  test 58 : OTDR
MEMPTR_TEST_58_LAUNCH:	LD HL,MEMPTR_TEST_58_EXEC
	LD BC,00FEH
	JP MEMPTR_TEST_COMMON_EXEC
; Code executed for MEMPTR  test 58 : OTDR
MEMPTR_TEST_58_EXEC:	PUSH AF
	EXX
	LD HL,0000H
	LD BC,08FFH
	OTDR
	EXX
	POP AF
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
DEFB 00H
MEMPTR_TEST_COMMON_EXEC:	PUSH BC
	CALL MEMPTR_CMN_EXEC_START
	POP BC
	OR A
	SBC HL,BC ; Compare Flags checksum with expected value
	RET NZ ; ==> return to TEST_SCREEN_TEST_FAILED
	POP HL
	RET ; ==> return to TEST_SCREEN_TEST_PASSED
MEMPTR_CMN_EXEC_START:	DI
	LD DE,MEMPTR_CMN_EXEC_LOOP
	LD BC,0014H
	LDIR
	LD IX,AREA_MEMPTR_TEST_INSERT
	LD BC,2000H
	LD HL,MEMPTR_CMN_EXEC_CHECKSUM
	PUSH HL
	LD A,(VAR_MEMPTR_CHECKSUM)
; --- NOPs below will be replaced by MEMPTR_TEST_nn_EXEC (instruction LDIR at address 9435 above) ---
MEMPTR_CMN_EXEC_LOOP:	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
; --- End of replaced code ---
	LD HL,VAR_MEMPTR_CHECKSUM
AREA_MEMPTR_TEST_INSERT:	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	BIT 0,(HL)
	PUSH AF
	DEC SP
	POP AF
	INC SP
	RLA
	RLA
	RLA
	RR E
	CPD
	INC HL
	LD (HL),E
	DEC HL
	RET PO ; ==> jump to MEMPTR_CMN_EXEC_CHECKSUM
	JP (IX) ; ==> loop back to MEMPTR_CMN_EXEC_LOOP
MEMPTR_CMN_EXEC_CHECKSUM:	CALL MEMPTR_CHECKSUM
	EI
	LD A,(VAR_SAVE_A)
	OR A
	JR NZ,MEMPTR_CMN_EXEC_RET
	CALL DISPLAY_TWO_HEXBYTES ; Display Flags checksum value
	LD A,20H
	RST 10H
MEMPTR_CMN_EXEC_RET:	RET
MEMPTR_CHECKSUM:	LD HL,VAR_MEMPTR_CHECKSUM
	LD DE,0000H
	LD A,(HL)
	PUSH AF
	BIT 0,A
	JR NZ,MEMPTR_CHECKSUM_CASE2
MEMPTR_CHECKSUM_LOOP1:	LD A,08H
MEMPTR_CHECKSUM_LOOP2:	RRC (HL)
	JR C,MEMPTR_CHECKSUM_CASE1
	INC DE
	DEC A
	JR NZ,MEMPTR_CHECKSUM_LOOP2
	DEC HL
	JR MEMPTR_CHECKSUM_LOOP1
MEMPTR_CHECKSUM_CASE1:	DEC DE
	JR MEMPTR_CHECKSUM_CASE4
MEMPTR_CHECKSUM_CASE2:	LD A,08H
MEMPTR_CHECKSUM_LOOP3:	RRC (HL)
	JR NC,MEMPTR_CHECKSUM_CASE3
	INC DE
	DEC A
	JR NZ,MEMPTR_CHECKSUM_LOOP3
	DEC HL
	JR MEMPTR_CHECKSUM_CASE2
MEMPTR_CHECKSUM_CASE3:	DEC DE
MEMPTR_CHECKSUM_CASE4:	POP AF
	BIT 0,A
	RES 5,D
	JR Z,MEMPTR_CHECKSUM_CASE5
	SET 5,D
MEMPTR_CHECKSUM_CASE5:	EX DE,HL
	RET
RESET_FLAGS_CHECKSUM:	PUSH HL
	LD HL,VAR_MEMPTR_CHECKSUM
	LD (VAR_FLAGS_CHECKSUM),HL
	POP HL
	RET
ADD_FLAGS_TO_CHECKSUM:	PUSH HL
	PUSH DE
	PUSH BC
	PUSH AF
	PUSH AF
	POP BC
	LD A,C
	LD HL,(VAR_FLAGS_CHECKSUM)
	XOR H
	LD B,A
	LD C,L
	RRCA
	RRCA
	RRCA
	RRCA
	LD L,A
	AND 0FH
	LD H,A
	XOR B
	LD B,A
	XOR L
	AND F0H
	LD L,A
	XOR C
	ADD HL,HL
	XOR H
	LD H,A
	LD A,L
	XOR B
	LD L,A
	LD (VAR_FLAGS_CHECKSUM),HL
	POP AF
	POP BC
	POP DE
	POP HL
	RET
VAR_FLAGS_CHECKSUM:DEFB 00H ; Flags Checksum value
DEFB 00H ; Not used ?
DEFB 51H ; Not used ?
